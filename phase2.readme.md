# 🚧 Crash Logging Platform – Phase 2: Error Ingestion & API Integration

This document outlines the completed work in Phase 2 of the Crash Logging Platform, where we established the error ingestion architecture, project-based scoping, and secure API integration.

---

## 📌 Overview

This phase enables external applications to log errors into our system securely and efficiently using a project-specific API key. Each error is stored under a project owned by a registered developer.

---

## 🧩 Core Architecture

### 🔐 API Key Strategy

- Each project is assigned a unique API key upon creation.
- Clients must attach the API key to every error log request (e.g., in headers).
- API keys identify the source project of incoming logs.
- Keys can be regenerated by the project owner.

---

## 🗂 MongoDB Collections

1. 🧑‍💻 User
   - Stores developer details (name, email, password hash).
   - Each user may own multiple projects.

2. 📁 Project
   - Contains: name, description, slug, API key, timestamps.
   - References the owning user.
   - Supports API key regeneration.

3. ❗ Error
   - Captures production errors with:
     - message, type, stack trace
     - tags, timestamp, browser info, client details
   - Links to a project via projectId.
   - Designed for indexed querying and analytics.

---

## 📡 API Endpoints (Implemented)

### 👤 User Routes

- POST /signup
- POST /login
- GET /user/projects → Fetch all projects owned by the user

### 🏗 Project Routes

- POST /projects → Create a new project
- GET /projects → List all projects
- PUT /projects/:id → Update a project
- DELETE /projects/:id → Delete a project
- PATCH /projects/:id/api-key → Regenerate API key

### 🛠 Error Ingestion Route

- POST /log-error
  - Requires API key in headers (e.g., X-API-KEY)
  - Validates and stores error with reference to project

---

## 🛡 Security & Validation

- API key authentication middleware
- Request payload schema validation
- Sanitized error logging
- Protected routes for authenticated users

---

## 📈 Scalability Considerations

- Modular API design
- Database schema supports indexing and filtering
- Ready for:
  - Rate limiting (by API key)
  - Third-party integrations (alerts, monitoring)
  - Dashboard visualization

---

## ✅ Status

Phase 2 Complete: The system can now:

- Ingest errors via secure API
- Associate logs with specific projects
- Validate input and enforce access control

---

## ⏭️ Next Up

📊 Phase 3: Developer Dashboard (UI) & Error Retrieval APIs

- Build frontend to view and manage logs
- Add filtering, searching, and pagination
- Enable download/export of logs
